[
    {
        "bookSourceComment": "感谢酷安@渊呀  指导\n34304776fc02d974a641eef13b603e20",
        "bookSourceGroup": "①🔰  正版",
        "bookSourceName": "🔰悸花乐读",
        "bookSourceType": 0,
        "bookSourceUrl": "http://api.lestory.cn",
        "customOrder": 3,
        "enabled": true,
        "enabledCookieJar": false,
        "enabledExplore": true,
        "enabledReview": false,
        "exploreUrl": "每日福利（点击领积分，一天仅一次有用）::http://api.lestory.cn/welfare/award?award_type=0&token={{(source.getLoginHeader()!=\"\"||source.getLoginHeader()!=\"undefined\")?source.getLoginHeader():\"34304776fc02d974a641eef13b603e20\"}}\n\n书币余额::http://www.baidu.com/wd=bookid=999999&token={{(source.getLoginHeader()!=\"\"||source.getLoginHeader()!=\"undefined\")?source.getLoginHeader():\"34304776fc02d974a641eef13b603e20\"}}\n                                       全部                                       ::http://www.baidu.com/wd=cat=0&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n现代都市::http://www.baidu.com/wd=cat=100&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n青春校园::http://www.baidu.com/wd=cat=8&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n古代情缘::http://www.baidu.com/wd=cat=9&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n纪实故事::http://www.baidu.com/wd=cat=96&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n民国近代::http://www.baidu.com/wd=cat=10&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n穿越架空::http://www.baidu.com/wd=cat=93&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n仙侠奇缘::http://www.baidu.com/wd=cat=95&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n短篇好文::http://www.baidu.com/wd=cat=98&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n同人原创::http://www.baidu.com/wd=cat=99&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\nABO::http://www.baidu.com/wd=cat=101&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n多元文学::http://www.baidu.com/wd=cat=102&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n恐怖悬疑::http://www.baidu.com/wd=cat=103&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n                                      连载中                                       ::http://www.baidu.com/wd=cat=0&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n现代都市::http://www.baidu.com/wd=cat=100&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n青春校园::http://www.baidu.com/wd=cat=8&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n古代情缘::http://www.baidu.com/wd=cat=9&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n纪实故事::http://www.baidu.com/wd=cat=96&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n民国近代::http://www.baidu.com/wd=cat=10&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n穿越架空::http://www.baidu.com/wd=cat=93&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n仙侠奇缘::http://www.baidu.com/wd=cat=95&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n短篇好文::http://www.baidu.com/wd=cat=98&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n同人原创::http://www.baidu.com/wd=cat=99&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\nABO::http://www.baidu.com/wd=cat=101&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n多元文学::http://www.baidu.com/wd=cat=102&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n恐怖悬疑::http://www.baidu.com/wd=cat=103&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n                                      已完结                                      ::http://www.baidu.com/wd=cat=0&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n现代都市::http://www.baidu.com/wd=cat=100&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n青春校园::http://www.baidu.com/wd=cat=8&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n古代情缘::http://www.baidu.com/wd=cat=9&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n纪实故事::http://www.baidu.com/wd=cat=96&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n民国近代::http://www.baidu.com/wd=cat=10&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n穿越架空::http://www.baidu.com/wd=cat=93&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n仙侠奇缘::http://www.baidu.com/wd=cat=95&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n短篇好文::http://www.baidu.com/wd=cat=98&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n同人原创::http://www.baidu.com/wd=cat=99&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\nABO::http://www.baidu.com/wd=cat=101&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n多元文学::http://www.baidu.com/wd=cat=102&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n恐怖悬疑::http://www.baidu.com/wd=cat=103&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}",
        "lastUpdateTime": 1681222016602,
        "loginCheckJs": "",
        "loginUi": "[\n    {\n        name: \"电话号码\",\n        type: \"text\"\n    },\n    \n    {\n    \tname: \"验证码\",\n    \ttype:\"text\"\n    \t},\n    \t{\n        name: \"获取验证码\",\n        type: \"button\",\n        action :\"getVerificationCode()\"\n    }\n]",
        "loginUrl": "<js>\nvar 电话号码=source.getLoginInfoMap().get(\"电话号码\")||result.get(\"电话号码\")\n\nvar 验证码=source.getLoginInfoMap().get( \"验证码\")\n\nvar time = Math.round(new Date()/1000);\nlll=[\n\"appId=\",\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"time=\"+time,\n\"token=\",\n\"ver=2.1.7\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\nfunction toJson(list){\n    json = \"\";\n    for (i in list)\n    {\n        all = list[i].match(/(.*?)=(.*)/);\n        key = all[1];\n        value = all[2];\n        json += '\"' + key + '\":' + '\"' + value + '\",'\n    }\n    json = '{' + String(json).replace(/,$/,'')+ '}'\n    return json;\n}\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nnum=电话号码;\nfunction getVerificationCode(){\n\t//获取验证码\n list2=lll;\nlist2.push( \"mobile=86\"+num);\ns=sign(list2);\nlist2.push(\"sign=\"+s);\njson2=toJson(list2);\noption1={\n\"method\": \"POST\",\n\"body\": String(json2)\n}\nurl='http://api.lestory.cn/message/send,'+JSON.stringify(option1);\njava.toast(JSON.parse(java.ajax(url)).msg==\"success\"?\"验证码发送成功，请注意短信\":\"验证码获取失败，请稍候再试\");\n\n\t}\n\n\nfunction login(){\n\t//登录\n\t\n\ty=验证码\n\tlist2=lll;\nlist2.push(\"mobile=86\"+num);\nlist2.push(\"code=\"+y);\ns=sign(list2);\nlist2.push(\"sign=\"+s);\njson2=toJson(list2)\n\noption1={\n\"method\": \"POST\",\n\"body\": String(json2)\n}\n\nurl='http://api.lestory.cn/user/mobile-login,'+JSON.stringify(option1);\na=JSON.parse(java.ajax(url));\nsource.putLoginHeader(a.data.user_token==\"undefined\"?\"\":a.data.user_token)\n\njava.toast(a.msg==\"success\"?'获取token成功':JSON.stringify(a));\n\n}\n\n</js>",
        "respondTime": 184242,
        "ruleBookInfo": {
            "author": "$.data.book.author",
            "canReName": "",
            "downloadUrls": "var time = Math.round(new Date()/1000);\ntoken=(source.getLoginHeader()!=\"\"||source.getLoginHeader()!=\"undefined\")?source.getLoginHeader():\"34304776fc02d974a641eef13b603e20\";\nlll=[\n\"appId=\",\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"time=\"+time,\n\"token=\"+token,\n\"ver=2.1.7\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\n\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}",
            "init": "",
            "intro": "$.data.book.description\n<js>if(!result){\ntoken=java.get('token');\nvar time = Math.round(new Date()/1000);\nlll=[\n\"token=\"+token,\n\"appId=\",\n\"time=\"+time,\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"ver=2.1.7\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\nfunction toJson(list){\n    json = \"\";\n    for (i in list)\n    {\n        all = list[i].match(/(.*?)=(.*)/);\n        key = all[1];\n        value = all[2];\n        json += '\"' + key + '\":' + '\"' + value + '\",'\n    }\n    json = '{' + String(json).replace(/,$/,'')+ '}'\n    return json;\n}\nl2=lll;\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nresult='&nbsp;&nbsp;❗️书币，积分❗️';\nvar li=lll;\ns=sign(li);\nli.push(\"sign=\"+s)\nj=toJson(li);\n\n\nlist3=lll;\nlist3.push(\"use_type=1\");\ntt=list3.join('\\n');\ntt=tt.replace(/sign=.*?\\n/,'');\n\nlist3=tt.split(\"\\n\");\nsign3=sign(list3);\nlist3.push(\"sign=\"+sign3);\njson3=toJson(list3);\n\n\noption3={\n\"method\": \"POST\",\n\"body\": String(json3)\n}\n;\n\noption={\n\"method\": \"POST\",\n\"body\": String(j)\n}\nurl3=\"http://api.lestory.cn/remain/exchange-info,\"+JSON.stringify(option3);\njava.log(java.ajax(url3));\njifen=JSON.parse(java.ajax(url3)).data.gold.limit;\n\nlist2=lll;\nlist2.push(\"exchange_count=\"+jifen);\ntt=list2.join('\\n');\ntt=tt.replace(/sign=.*?\\n/,'');\nlist2=tt.split(\"\\n\");\nsign2=sign(list2);\nlist2.push(\"sign=\"+sign2);\njson2=toJson(list2);\noption2={\n\"method\": \"POST\",\n\"body\": String(json2)\n}\n\n\n\nurl='http://api.lestory.cn/user/center,'+JSON.stringify(option);\n\nurl2='http://api.lestory.cn/remain/points-exchange,'+JSON.stringify(option2);\nbbb=JSON.parse(String(java.ajax(url2)));\njava.log(JSON.stringify(bbb));\naaa=JSON.parse(String(java.ajax(url))).data;\nsuccess=bbb.msg==\"success\"?\"成功兑换\"+jifen+\"书币\\n\"+bbb.data.points_remain_text:\"积分不足以兑换书币或者请求失败，1000积分=1书币\";\n\nresult+'\\n剩余积分：'+aaa.scoreRemain+'\\n剩余书币：'+aaa.remain+'\\n今日获得书币：'+aaa.coin_today+'\\n点右上角刷新此页面更新数据（每次刷新会自动将积分兑换成书币）\\n'+success\n}else{result=result}</js>",
            "kind": "",
            "lastChapter": "{{$.data.book.last_chapter}}•{{$.data.book.last_chapter_time}}##更新于",
            "name": "$.data.book.name",
            "tocUrl": "$.data.book.book_id\n<js>\nvar time = Math.round(new Date()/1000);\nlist=[\n\"book_id=\"+result,\n\"lang=zh-hans\",\n\"lang-app=zh-Hans\",\n\"locale=CN\",\n\"osType=2\",\n\"packageName=com.lestory.jihua.an\",\n\"time=\"+time,\n\"token=\",\n\"ver=2.1.3\",\n\"product=1\",\n\"sysVer=10\"\n];\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nsign=sign(list);\n\njson={\"sign\":sign,\"packageName\":\"com.lestory.jihua.an\",\"time\":time,\"token\":\"\",\"locale\":\"CN\",\"osType\":\"2\",\"book_id\":result,\"lang\":\"zh-hans\",\"lang-app\":\"zh-Hans\",\"ver\":\"2.1.3\",\"product\":1,\"sysVer\":\"10\"}\noption={\n\"method\": \"POST\",\n\"body\": JSON.stringify(json)\n}\n'http://api.lestory.cn/chapter/catalog,'+JSON.stringify(option)\n</js>",
            "wordCount": "$.data.book.total_words"
        },
        "ruleContent": {
            "content": "$.data.content\n<js>\n//正文\na=java.createSymmetricCrypto(\"AES/CBC/PKCS5Padding\", \"lCFS!FChsEabjLBu\", \"0123456789012345\").decryptStr(String(result))\n</js>",
            "nextContentUrl": ""
        },
        "ruleExplore": {
            "author": "$.author",
            "bookList": "<js>\nvar time = Math.round(new Date()/1000);\nlll=[\n\"appId=\",\n\"time=\"+time,\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"ver=2.1.7\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\nfunction toJson(list){\n    json = \"\";\n    for (i in list)\n    {\n        all = list[i].match(/(.*?)=(.*)/);\n        key = all[1];\n        value = all[2];\n        json += '\"' + key + '\":' + '\"' + value + '\",'\n    }\n    json = '{' + String(json).replace(/,$/,'')+ '}'\n    return json;\n}\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nif(!baseUrl.match(/welfare\\/award/)){\nif(baseUrl.match(/bookid/)){\njava.put('token',baseUrl.match(/token=(.*)/)[1]);\njava.put('book',baseUrl.match(/(\\d+)/)[1]);\nlist=[{\"name\":\"书币余额\",\"book_id\":baseUrl.match(/(\\d+)/)[1]}];\nresult=JSON.stringify(list)\n}else{\n\npage=java.get('page');\ncat=baseUrl.match(/cat=(\\d+)/)[1];\nfinished=baseUrl.match(/finished=(\\d+)/)[1];\nli=lll;\nli.push(\"finished=\"+finished);\nli.push(\"cat=\"+cat);\nli.push(\"page_num=\"+page);\nsign=sign(li);\nli.push(\"sign=\"+sign);\nj=toJson(li);\n\noption={\n\"method\": \"POST\",\n\"body\": String(j)\n}\nurl='http://api.lestory.cn/book/category-index,'+JSON.stringify(option);\njava.ajax(url)}}else{\nl=[];\nvar token=baseUrl.match(/token=(.*)/)[1];\nli=lll;\nli.push(\"read_time=44800\");\nli.push(\"token=\"+token);\ns=sign(li);\nli.push(\"sign=\"+s);\nj=toJson(li);\noption={\n\"method\": \"POST\",\n\"body\": String(j)\n}\nurl='http://api.lestory.cn/remain/add-read-time,'+JSON.stringify(option);\nl.push(String(java.ajax(url)));\nfor(i=1;i<=15;i++){\nurl='http://api.lestory.cn/welfare/award?token='+token+'&award_type='+i;\nl.push(String(java.ajax(url)));\n}\nfor(i=1;i<=15;i++){\nurl='http://api.lestory.cn/welfare/award?token='+token+'&award_type='+i;\nl.push(String(java.ajax(url)));\n}\nfor(i=1;i<=15;i++){\nurl='http://api.lestory.cn/welfare/award?token='+token+'&award_type='+i;\nl.push(String(java.ajax(url)));\n}\nresult=JSON.stringify(l);}\n</js>\n$.data.list.list[*]||$.[*]",
            "bookUrl": "$.book_id\n<js>\nvar time = Math.round(new Date()/1000);\nlist=[\n\"book_id=\"+result,\n\"lang=zh-hans\",\n\"lang-app=zh-Hans\",\n\"locale=CN\",\n\"osType=2\",\n\"packageName=com.lestory.jihua.an\",\n\"time=\"+time,\n\"token=\",\n\"ver=2.1.3\",\n\"product=1\",\n\"sysVer=10\"\n];\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nsign=sign(list);\n\njson={\"sign\":sign,\"packageName\":\"com.lestory.jihua.an\",\"time\":time,\"token\":\"\",\"locale\":\"CN\",\"osType\":\"2\",\"book_id\":result,\"lang\":\"zh-hans\",\"lang-app\":\"zh-Hans\",\"ver\":\"2.1.3\",\"product\":1,\"sysVer\":\"10\"}\noption={\n\"method\": \"POST\",\n\"body\": JSON.stringify(json)\n}\n'http://api.lestory.cn/book/info,'+JSON.stringify(option)\n</js>",
            "coverUrl": "$.cover",
            "intro": "$.description",
            "kind": "{{$.tag[*].tab}},{{$.new_tag[*].tab}}",
            "name": "$.name||$.data.error||$.msg",
            "wordCount": ""
        },
        "ruleReview": [],
        "ruleSearch": {
            "author": "$.author",
            "bookList": "$.data.list[*]",
            "bookUrl": "$.book_id\n<js>\nvar time = Math.round(new Date()/1000);\nlist=[\n\"book_id=\"+result,\n\"lang=zh-hans\",\n\"lang-app=zh-Hans\",\n\"locale=CN\",\n\"osType=2\",\n\"packageName=com.lestory.jihua.an\",\n\"time=\"+time,\n\"token=\",\n\"ver=2.1.3\",\n\"product=1\",\n\"sysVer=10\"\n];\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nsign=sign(list);\n\njson={\"sign\":sign,\"packageName\":\"com.lestory.jihua.an\",\"time\":time,\"token\":\"\",\"locale\":\"CN\",\"osType\":\"2\",\"book_id\":result,\"lang\":\"zh-hans\",\"lang-app\":\"zh-Hans\",\"ver\":\"2.1.3\",\"product\":1,\"sysVer\":\"10\"}\noption={\n\"method\": \"POST\",\n\"body\": JSON.stringify(json)\n}\n'http://api.lestory.cn/book/info,'+JSON.stringify(option)\n</js>",
            "checkKeyWord": "快穿拯救之末",
            "coverUrl": "$.cover",
            "intro": "$.description",
            "kind": "{{$.tag[*].tab}},{{$.chapter_price##^0$##免费###}}",
            "lastChapter": "{{$.last_chapter}}•{{$.last_chapter_time}}##更新于",
            "name": "$.name",
            "wordCount": "$.total_words"
        },
        "ruleToc": {
            "chapterList": "<js>\n$=JSON.parse(result);\nif($.code==\"700\"){\nlist=[{\"chapter_title\":\"暂无目录\",\"href\":\"http://api.lestory.cn\"}];\n\nresult=JSON.stringify(list)\n}else{result=JSON.stringify($.data.chapter_list)}</js>$.[*]",
            "chapterName": "$.chapter_title",
            "chapterUrl": "$.href<js>\n//下面不要动\nvar time = Math.round(new Date()/1000);\nvar token=(source.getLoginHeader()!=\"\"||source.getLoginHeader()!=\"undefined\")?source.getLoginHeader():\"34304776fc02d974a641eef13b603e20\";\nif(!result){\nlist=[\n\"book_id={{$.book_id}}\",\n\"chapter_id={{$.chapter_id}}\",\n\"appId=\",\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"time=\"+time,\n\"token=\"+token,\n\"ver=2.1.3\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\ns=sign(list);\n\n\njson={\"product\":\"1\",\"ver\":\"2.1.3\",\"sign\":String(s),\"sysVer\":\"10\",\"book_id\":\"{{$.book_id}}\",\"locale\":\"CN\",\"token\":String(token),\"lang-app\":\"zh-Hans\",\"appId\":\"\",\"osType\":\"2\",\"time\":time,\"packageName\":\"com.lestory.jihua.an\",\"chapter_id\":\"{{$.chapter_id}}\",\"lang\":\"zh-hans\"}\n\noption={\n\"method\": \"POST\",\n\"body\": JSON.stringify(json)\n}\nurl='http://api.lestory.cn/chapter/text,'+JSON.stringify(option)}else{result=result}\n</js>",
            "isVip": "",
            "nextTocUrl": "",
            "updateTime": "💰{{$.chapter_price}}书币##^💰0书币"
        },
        "searchUrl": "<js>\n//下面不要动\nvar time = Math.round(new Date()/1000);\ntoken=(source.getLoginHeader()!=\"\"||source.getLoginHeader()!=\"undefined\")?source.getLoginHeader():\"34304776fc02d974a641eef13b603e20\";\nlll=[\n\"appId=\",\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"time=\"+time,\n\"token=\"+token,\n\"ver=2.1.7\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\nfunction toJson(list){\n    json = \"\";\n    for (i in list)\n    {\n        all = list[i].match(/(.*?)=(.*)/);\n        key = all[1];\n        value = all[2];\n        json += '\"' + key + '\":' + '\"' + value + '\",'\n    }\n    json = '{' + String(json).replace(/,$/,'')+ '}'\n    return json;\n}\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nli=lll;\nli.push(\"page_num=\"+page);\nli.push(\"keyword=\"+key);\ns1=sign(li);\nli.push(\"sign=\"+s1);\noption={\n\"method\": \"POST\",\n\"body\": toJson(li)\n}\nurl='http://api.lestory.cn/book/search,'+JSON.stringify(option)\n</js>",
        "weight": 0
    }
]