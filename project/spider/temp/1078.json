[
    {
        "bookSourceComment": "如要登录，请看搜索地址，请先删了Token的值再获取验证码\n\n填写token=登录\n\n需填写token的地方\n1.搜索页的搜索地址\n2.发现页的每日福利跟书币余额<不领的话可不填>\n3.目录页的章节url\n\n感谢酷安@渊呀  指导\n34304776fc02d974a641eef13b603e20",
        "bookSourceGroup": "",
        "bookSourceName": "🔰悸花",
        "bookSourceType": 0,
        "bookSourceUrl": "http://api.lestory.cn",
        "customOrder": 0,
        "enabled": true,
        "enabledExplore": true,
        "exploreUrl": "每日福利（点击领积分，一天仅一次有用）::http://api.lestory.cn/welfare/award?award_type=0&token=34304776fc02d974a641eef13b603e20\n\n书币余额::http://www.baidu.com/wd=bookid=999999&token=34304776fc02d974a641eef13b603e20\n                                       全部                                       ::http://www.baidu.com/wd=cat=0&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n现代都市::http://www.baidu.com/wd=cat=100&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n青春校园::http://www.baidu.com/wd=cat=8&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n古代情缘::http://www.baidu.com/wd=cat=9&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n纪实故事::http://www.baidu.com/wd=cat=96&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n民国近代::http://www.baidu.com/wd=cat=10&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n穿越架空::http://www.baidu.com/wd=cat=93&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n仙侠奇缘::http://www.baidu.com/wd=cat=95&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n短篇好文::http://www.baidu.com/wd=cat=98&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n同人原创::http://www.baidu.com/wd=cat=99&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\nABO::http://www.baidu.com/wd=cat=101&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n多元文学::http://www.baidu.com/wd=cat=102&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n恐怖悬疑::http://www.baidu.com/wd=cat=103&finished=0&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n                                      连载中                                       ::http://www.baidu.com/wd=cat=0&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n现代都市::http://www.baidu.com/wd=cat=100&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n青春校园::http://www.baidu.com/wd=cat=8&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n古代情缘::http://www.baidu.com/wd=cat=9&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n纪实故事::http://www.baidu.com/wd=cat=96&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n民国近代::http://www.baidu.com/wd=cat=10&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n穿越架空::http://www.baidu.com/wd=cat=93&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n仙侠奇缘::http://www.baidu.com/wd=cat=95&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n短篇好文::http://www.baidu.com/wd=cat=98&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n同人原创::http://www.baidu.com/wd=cat=99&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\nABO::http://www.baidu.com/wd=cat=101&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n多元文学::http://www.baidu.com/wd=cat=102&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n恐怖悬疑::http://www.baidu.com/wd=cat=103&finished=1&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n                                      已完结                                      ::http://www.baidu.com/wd=cat=0&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n现代都市::http://www.baidu.com/wd=cat=100&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n青春校园::http://www.baidu.com/wd=cat=8&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n古代情缘::http://www.baidu.com/wd=cat=9&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n纪实故事::http://www.baidu.com/wd=cat=96&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n民国近代::http://www.baidu.com/wd=cat=10&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n穿越架空::http://www.baidu.com/wd=cat=93&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n仙侠奇缘::http://www.baidu.com/wd=cat=95&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n短篇好文::http://www.baidu.com/wd=cat=98&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n同人原创::http://www.baidu.com/wd=cat=99&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\nABO::http://www.baidu.com/wd=cat=101&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n多元文学::http://www.baidu.com/wd=cat=102&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}\n恐怖悬疑::http://www.baidu.com/wd=cat=103&finished=2&page={{java.put('page',page)}}&page={{java.put('page',page)}}",
        "lastUpdateTime": 1627718415822,
        "loginUrl": "",
        "ruleBookInfo": {
            "author": "$.data.book.author",
            "canReName": "",
            "intro": "$.data.book.description\n<js>if(!result){\ntoken=java.get('token');\nvar time = Math.round(new Date()/1000);\nlll=[\n\"token=\"+token,\n\"appId=\",\n\"time=\"+time,\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"ver=2.1.7\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\nfunction toJson(list){\n    json = \"\";\n    for (i in list)\n    {\n        all = list[i].match(/(.*?)=(.*)/);\n        key = all[1];\n        value = all[2];\n        json += '\"' + key + '\":' + '\"' + value + '\",'\n    }\n    json = '{' + String(json).replace(/,$/,'')+ '}'\n    return json;\n}\nl2=lll;\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nresult='&nbsp;&nbsp;❗️书币，积分❗️';\nvar li=lll;\ns=sign(li);\nli.push(\"sign=\"+s)\nj=toJson(li);\n\n\nlist3=lll;\nlist3.push(\"use_type=1\");\ntt=list3.join('\\n');\ntt=tt.replace(/sign=.*?\\n/,'');\n\nlist3=tt.split(\"\\n\");\nsign3=sign(list3);\nlist3.push(\"sign=\"+sign3);\njson3=toJson(list3);\n\n\noption3={\n\"method\": \"POST\",\n\"body\": String(json3)\n}\n;\n\noption={\n\"method\": \"POST\",\n\"body\": String(j)\n}\nurl3=\"http://api.lestory.cn/remain/exchange-info,\"+JSON.stringify(option3);\njava.log(java.ajax(url3));\njifen=JSON.parse(java.ajax(url3)).data.gold.limit;\n\nlist2=lll;\nlist2.push(\"exchange_count=\"+jifen);\ntt=list2.join('\\n');\ntt=tt.replace(/sign=.*?\\n/,'');\nlist2=tt.split(\"\\n\");\nsign2=sign(list2);\nlist2.push(\"sign=\"+sign2);\njson2=toJson(list2);\noption2={\n\"method\": \"POST\",\n\"body\": String(json2)\n}\n\n\n\nurl='http://api.lestory.cn/user/center,'+JSON.stringify(option);\n\nurl2='http://api.lestory.cn/remain/points-exchange,'+JSON.stringify(option2);\nbbb=JSON.parse(String(java.ajax(url2)));\njava.log(JSON.stringify(bbb));\naaa=JSON.parse(String(java.ajax(url))).data;\nsuccess=bbb.msg==\"success\"?\"成功兑换\"+jifen+\"书币\\n\"+bbb.data.points_remain_text:\"积分不足以兑换书币或者请求失败，1000积分=1书币\";\n\nresult+'\\n剩余积分：'+aaa.scoreRemain+'\\n剩余书币：'+aaa.remain+'\\n今日获得书币：'+aaa.coin_today+'\\n点右上角刷新此页面更新数据（每次刷新会自动将积分兑换成书币）\\n'+success\n}else{result=result}</js>",
            "kind": "",
            "lastChapter": "{{$.data.book.last_chapter}}•{{$.data.book.last_chapter_time}}##更新于",
            "name": "$.data.book.name",
            "tocUrl": "$.data.book.book_id\n<js>\nvar time = Math.round(new Date()/1000);\nlist=[\n\"book_id=\"+result,\n\"lang=zh-hans\",\n\"lang-app=zh-Hans\",\n\"locale=CN\",\n\"osType=2\",\n\"packageName=com.lestory.jihua.an\",\n\"time=\"+time,\n\"token=\",\n\"ver=2.1.3\",\n\"product=1\",\n\"sysVer=10\"\n];\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nsign=sign(list);\n\njson={\"sign\":sign,\"packageName\":\"com.lestory.jihua.an\",\"time\":time,\"token\":\"\",\"locale\":\"CN\",\"osType\":\"2\",\"book_id\":result,\"lang\":\"zh-hans\",\"lang-app\":\"zh-Hans\",\"ver\":\"2.1.3\",\"product\":1,\"sysVer\":\"10\"}\noption={\n\"method\": \"POST\",\n\"body\": JSON.stringify(json)\n}\n'http://api.lestory.cn/chapter/catalog,'+JSON.stringify(option)\n</js>",
            "wordCount": "$.data.book.total_words"
        },
        "ruleContent": {
            "content": "$.data.content\n<js>\n//正文\njava.aesBase64DecodeToString(String(result),\"lCFS!FChsEabjLBu\",\"AES/CBC/PKCS5Padding\",\"0123456789012345\")\n</js>",
            "nextContentUrl": ""
        },
        "ruleExplore": {
            "author": "$.author",
            "bookList": "<js>\nvar time = Math.round(new Date()/1000);\nlll=[\n\"appId=\",\n\"time=\"+time,\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"ver=2.1.7\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\nfunction toJson(list){\n    json = \"\";\n    for (i in list)\n    {\n        all = list[i].match(/(.*?)=(.*)/);\n        key = all[1];\n        value = all[2];\n        json += '\"' + key + '\":' + '\"' + value + '\",'\n    }\n    json = '{' + String(json).replace(/,$/,'')+ '}'\n    return json;\n}\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nif(!baseUrl.match(/welfare\\/award/)){\nif(baseUrl.match(/bookid/)){\njava.put('token',baseUrl.match(/token=(.*)/)[1]);\njava.put('book',baseUrl.match(/(\\d+)/)[1]);\nlist=[{\"name\":\"书币余额\",\"book_id\":baseUrl.match(/(\\d+)/)[1]}];\nresult=JSON.stringify(list)\n}else{\n\npage=java.get('page');\ncat=baseUrl.match(/cat=(\\d+)/)[1];\nfinished=baseUrl.match(/finished=(\\d+)/)[1];\nli=lll;\nli.push(\"finished=\"+finished);\nli.push(\"cat=\"+cat);\nli.push(\"page_num=\"+page);\nsign=sign(li);\nli.push(\"sign=\"+sign);\nj=toJson(li);\n\noption={\n\"method\": \"POST\",\n\"body\": String(j)\n}\nurl='http://api.lestory.cn/book/category-index,'+JSON.stringify(option);\njava.ajax(url)}}else{\nl=[];\nvar token=baseUrl.match(/token=(.*)/)[1];\nli=lll;\nli.push(\"read_time=44800\");\nli.push(\"token=\"+token);\ns=sign(li);\nli.push(\"sign=\"+s);\nj=toJson(li);\noption={\n\"method\": \"POST\",\n\"body\": String(j)\n}\nurl='http://api.lestory.cn/remain/add-read-time,'+JSON.stringify(option);\nl.push(String(java.ajax(url)));\nfor(i=1;i<=10;i++){\nurl='http://api.lestory.cn/welfare/award?token='+token+'&award_type='+i;\nl.push(String(java.ajax(url)));\n}\nfor(i=1;i<=15;i++){\nurl='http://api.lestory.cn/welfare/award?token='+token+'&award_type='+i;\nl.push(String(java.ajax(url)));\n}\nfor(i=1;i<=15;i++){\nurl='http://api.lestory.cn/welfare/award?token='+token+'&award_type='+i;\nl.push(String(java.ajax(url)));\n}\nresult=JSON.stringify(l);}\n</js>\n$.data.list.list[*]||$.[*]",
            "bookUrl": "$.book_id\n<js>\nvar time = Math.round(new Date()/1000);\nlist=[\n\"book_id=\"+result,\n\"lang=zh-hans\",\n\"lang-app=zh-Hans\",\n\"locale=CN\",\n\"osType=2\",\n\"packageName=com.lestory.jihua.an\",\n\"time=\"+time,\n\"token=\",\n\"ver=2.1.3\",\n\"product=1\",\n\"sysVer=10\"\n];\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nsign=sign(list);\n\njson={\"sign\":sign,\"packageName\":\"com.lestory.jihua.an\",\"time\":time,\"token\":\"\",\"locale\":\"CN\",\"osType\":\"2\",\"book_id\":result,\"lang\":\"zh-hans\",\"lang-app\":\"zh-Hans\",\"ver\":\"2.1.3\",\"product\":1,\"sysVer\":\"10\"}\noption={\n\"method\": \"POST\",\n\"body\": JSON.stringify(json)\n}\n'http://api.lestory.cn/book/info,'+JSON.stringify(option)\n</js>",
            "coverUrl": "$.cover",
            "intro": "$.description",
            "kind": "$.tag[*].tab",
            "name": "$.name||$.data.error||$.msg"
        },
        "ruleSearch": {
            "author": "$.author",
            "bookList": "$.data.list[*]",
            "bookUrl": "$.book_id\n<js>\nvar time = Math.round(new Date()/1000);\nlist=[\n\"book_id=\"+result,\n\"lang=zh-hans\",\n\"lang-app=zh-Hans\",\n\"locale=CN\",\n\"osType=2\",\n\"packageName=com.lestory.jihua.an\",\n\"time=\"+time,\n\"token=\",\n\"ver=2.1.3\",\n\"product=1\",\n\"sysVer=10\"\n];\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\nsign=sign(list);\n\njson={\"sign\":sign,\"packageName\":\"com.lestory.jihua.an\",\"time\":time,\"token\":\"\",\"locale\":\"CN\",\"osType\":\"2\",\"book_id\":result,\"lang\":\"zh-hans\",\"lang-app\":\"zh-Hans\",\"ver\":\"2.1.3\",\"product\":1,\"sysVer\":\"10\"}\noption={\n\"method\": \"POST\",\n\"body\": JSON.stringify(json)\n}\n'http://api.lestory.cn/book/info,'+JSON.stringify(option)\n</js>",
            "coverUrl": "$.cover",
            "intro": "$.description",
            "kind": "$.tag[*].tab",
            "lastChapter": "{{$.last_chapter}}•{{$.last_chapter_time}}##更新于",
            "name": "$.name",
            "wordCount": "$.total_words"
        },
        "ruleToc": {
            "chapterList": "<js>\n$=JSON.parse(result);\nif($.code==\"700\"){\nlist=[{\"chapter_title\":\"暂无目录\",\"href\":\"http://api.lestory.cn\"}];\nresult=JSON.stringify(list)\n}else{result=JSON.stringify($.data.chapter_list)}</js>$.[*]",
            "chapterName": "$.chapter_title",
            "chapterUrl": "$.href<js>\n//填上你的Token\n\nToken=\"34304776fc02d974a641eef13b603e20\";\n\n//下面不要动\nvar time = Math.round(new Date()/1000);\nvar token=java.get('token')!=''?java.get('token'):java.put('token',Token);\nif(!result){\nlist=[\n\"book_id={{$.book_id}}\",\n\"chapter_id={{$.chapter_id}}\",\n\"appId=\",\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"time=\"+time,\n\"token=\"+token,\n\"ver=2.1.3\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\ns=sign(list);\n\n\njson={\"product\":\"1\",\"ver\":\"2.1.3\",\"sign\":String(s),\"sysVer\":\"10\",\"book_id\":\"{{$.book_id}}\",\"locale\":\"CN\",\"token\":String(token),\"lang-app\":\"zh-Hans\",\"appId\":\"\",\"osType\":\"2\",\"time\":time,\"packageName\":\"com.lestory.jihua.an\",\"chapter_id\":\"{{$.chapter_id}}\",\"lang\":\"zh-hans\"}\n\noption={\n\"method\": \"POST\",\n\"body\": JSON.stringify(json)\n}\nurl='http://api.lestory.cn/chapter/text,'+JSON.stringify(option)}else{result=result}\n</js>",
            "isVip": "",
            "nextTocUrl": "",
            "updateTime": "💰{{$.chapter_price}}书币##^💰0书币"
        },
        "searchUrl": "<js>\n/*调试->右上角的小虫子，随便搜一个词*/\n/*Token写了东西的话要删掉才能进行下面步骤：\n①填上电话号码点调试会获取验证码；\n②填上验证码点调试会获取token；\n③把token填在Token【目录的章节url那也有个token记得也要填，不填的话从发现点的书是没有登录的】；\n④把电话号码跟验证码的值删了【❗️填了电话号码会一搜索就发验证码】，保存书源*/\n/*如登录过期需要重新登录，请删除以前填写的token再调试获取验证码，重复前面的步骤*/\n\n电话号码=\"\";\n\n验证码=\"\";\n\nToken=\"34304776fc02d974a641eef13b603e20\";\n\n//下面不要动\nvar time = Math.round(new Date()/1000);\ntoken=java.put('token',Token);\nlll=[\n\"appId=\",\n\"osType=2\",\n\"product=1\",\n\"sysVer=10\",\n\"time=\"+time,\n\"token=\"+token,\n\"ver=2.1.7\",\n\"packageName=com.lestory.jihua.an\",\n\"lang-app=zh-Hans\",\n\"lang=zh-hans\",\n\"locale=CN\"\n]\nfunction toJson(list){\n    json = \"\";\n    for (i in list)\n    {\n        all = list[i].match(/(.*?)=(.*)/);\n        key = all[1];\n        value = all[2];\n        json += '\"' + key + '\":' + '\"' + value + '\",'\n    }\n    json = '{' + String(json).replace(/,$/,'')+ '}'\n    return json;\n}\n\nfunction sign(list){\nvar sb='';\nsb+=\"Fb0gqLMSf5Android\";\nlist=list.sort();\ni=0;\nwhile(i<list.length){\nif(i==0){\nsb+=list[i]\n}else{\n    if(list[i].match(/lang-app=/)){  \n      i2=i+1;\n     i3=i2+1;\n     if (list[i2] != null && list[i2].match(/lang=/)) {\n                        sb+=\"&\";\n                        sb+=list[i2];\n                        \n                        sb+=\"&\";\n                        sb+=list[i];\n                        \n                        i = i3;\n                    }\n           }\n                sb+=\"&\";\n                sb+=list[i];             \n      }\ni++\n}\nsb+=\"AEdDtho2CjiH901aVK7swFqclu6NmzJ4\";\nreturn String(java.md5Encode(sb)).toUpperCase()\n}\n\n\n\n//获取验证码开始\nnum=电话号码;\ny=验证码;\nif(num.match(/^\\d{11}$/) && !y  && !Token){\nlist2=lll;\nlist2.push( \"mobile=86\"+num);\ns=sign(list2);\nlist2.push(\"sign=\"+s);\njson2=toJson(list2);\noption1={\n\"method\": \"POST\",\n\"body\": String(json2)\n}\nurl='http://api.lestory.cn/message/send,'+JSON.stringify(option1);\njava.log(JSON.parse(java.ajax(url)).msg==\"success\"?\"验证码发送成功，请注意短信\":\"验证码获取失败，请稍候再试\");\n}else if(y && !Token){\nlist2=lll;\nlist2.push(\"mobile=86\"+num);\nlist2.push(\"code=\"+y);\ns=sign(list2);\nlist2.push(\"sign=\"+s);\njson2=toJson(list2)\n\noption1={\n\"method\": \"POST\",\n\"body\": String(json2)\n}\nurl='http://api.lestory.cn/user/mobile-login,'+JSON.stringify(option1);\na=JSON.parse(java.ajax(url));\njava.log(a.msg==\"success\"?'❗️下面是你的Token，请复制❗️\\n'+a.data.user_token:JSON.stringify(a));\n}\n//获取验证码结束\n\nli=lll;\nli.push(\"page_num=\"+page);\nli.push(\"keyword=\"+key);\ns1=sign(li);\nli.push(\"sign=\"+s1);\nj=toJson(li);\noption={\n\"method\": \"POST\",\n\"body\": String(j)\n}\nurl='http://api.lestory.cn/book/search,'+JSON.stringify(option)\n</js>",
        "weight": 0
    }
]